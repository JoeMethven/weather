!function(t){var o=function(){t(window).on("scroll",function(){var o=this.pageYOffset,e=t(window).height(),i=(e-1.5*o)/e,n=i.toFixed(2),a=t("nav#hero-navigation");a.animate({opacity:n},0),a.css("opacity")<=0?a.hide(0):a.show(0)})},e=function(){},i=function(){var o=t("nav#navigation"),e=t(window),i=t("#portfolio"),n=e.scrollTop(),a=t("#hero");e.on("scroll",function(){var e=t(window).scrollTop();$heroPreResult=(a.height()-this.pageYOffset)/a.height(),$heroResult=$heroPreResult.toFixed(2),$heroResult<=0&&n>e?o.fadeIn(400):($heroResult>0||e>n)&&o.fadeOut(400),i.length&&($portfolioPreResult=(i.offset().top-this.pageYOffset)/i.offset().top,$portfolioResult=parseFloat($portfolioPreResult.toFixed(2)),$portfolioNextPreResult=(i.next().offset().top-this.pageYOffset)/i.next().offset().top,$portfolioNextResult=parseFloat($portfolioNextPreResult.toFixed(2)),n=e)})},n=function(){var o=t(window);t("#navigation div.navigation__contents");o.on("scroll",function(e){t("div.global").each(function(){var e=t(this),i=e.data("module"),n=t('div.navigation__buttons a[data-button="'+i+'"]'),a=e.offset().top,l=a+e.height(),r=o.scrollTop();if(e.is("#portfolio")){var s=t("#portfolio"),d=s.offset().top,c=a+s.outerHeight(),f=t("#navigation div.navigation__contents");t("#navigation div.navigation__logo").children("img");r>=d&&c>=r?f.addClass("light"):f.removeClass("light")}r>=a&&l>=r?n.addClass("active"):n.removeClass("active")})})},a=function(){t("nav#navigation a").on("click",function(o){var e="#";o.preventDefault(),e+=t(this).data("button");var i=t(e),n=i.offset().top;t("body").animate({scrollTop:n},1e3)})},l={init:function(){this.icon.on("click",this.click)},click:function(){var o=(t(this),t("nav#mobile-navigation"));o.toggleClass("open"),t("nav#navigation").toggleClass("off"),t("nav#hero-navigation").toggleClass("active"),o.hasClass("open")?o.css("display","block").animate({opacity:1},600):o.animate({opacity:0},600,function(){o.css("display","none")})},icon:t("div.navigation__icon .icon")},r=function(){var o="Joe <span>Methven</span>",e="Web <span>Designer</span>",i="Joe Methven",n="Web Designer";t("div.navigation__title > h1").on("mouseenter",function(){var o=t(this);o.text()!=n&&o.fadeOut(400,function(){o.html(e)}).fadeIn(400)}).on("mouseleave",function(){var e=t(this);e.text()!=i&&e.fadeOut(400,function(){e.html(o)}).fadeIn(400)})},s=function(){t("div.navigation__icon div.icon").on("click",function(){t(this).toggleClass("open")})},d=function(o){var e=t(o).find(".content");e.fadeTo(0,0),t(window).on("scroll",function(){t(o).each(function(){var o=t(this),e=t(window),i=o.offset().top+o.outerHeight()/5,n=e.scrollTop()+e.height();n>i&&o.find(".content").fadeTo(800,1)})})},c=function(){function o(){0!=s&&a.css("left",screen.width),s++,a.animate({left:-v.outerWidth()},1e5,"linear",o)}for(var e=screen.width,i=e/2,n=e/4,a=(t("#hero").outerHeight(),t("div.hero__code")),l=0,r=0,s=0,d=0,c=4,f=15,p=1;c>=p;p++)a.append('<div class="code__line"></div>');var v=t("div.code__line");a.css({width:10*e}),v.each(function(o){for(var e=t(this),s=0;s<e.outerWidth()&&(l=Math.floor(Math.random()*(i-n/2)+n/2),r=Math.floor(5*Math.random()+3),s+=f,!(s>=a.outerWidth()));s+=l)t("<span></span>",{"class":"line"}).css("width",l).appendTo(e),d%r==0&&t("span.line").eq(d).addClass("green"),d++});var h=Math.max.apply(null,a.children().map(function(){return t(this).outerWidth(!0)}).get());a.css({"max-height":"350px",width:h}),o()},f=function(){var o=app.templates.recent.portfolio,e=t("div.recent__contents");if(data.length>3)var i=data.reverse().slice(0,3);else var i=data;e.append(o(i));var n=app.templates.featured.portfolio;if(data.length>5){data.reverse();var a=[];a.push(data[0],data[2],data[3],data[4],data[5])}else var a=data;var l=function(){var o=t("#portfolio-items"),e=t("div.portfolio__navigation");o.prepend(n(a));for(var i=0;i<a.length;i++)t('<li class="fa fa-circle"></li>').attr("data-slide",i+1).appendTo(t("ul.navigation__items")),o.children().eq(i).attr("data-slide",i+1);t("div.portfolio__data").each(function(){var o=t(this),e=o.parents().eq(1);o.css("top",(e.innerHeight()-o.innerHeight())/2)}),e.css("top",(t("#portfolio-items").innerHeight()-e.innerHeight())/2-144);var l=t("div.portfolio__navigation ul.navigation__items");o.children().first().addClass("current"),l.children().first().addClass("current");var r=function(){var e,i=l.children("li.current"),n=(i.next(),o.children("div.portfolio__item")),r=o.children("div.portfolio__item.current");r.next();l.children("li").on("click",function(){if(window.clearTimeout(e),!t(this).hasClass("current")&&!t("#portfolio-items").hasClass("looping")){var i=t(this),s=(i.next(),r.data("slide"),i.data("slide"));l.children("li.current").removeClass("current"),i.addClass("current"),i.parent().addClass("clicked");var d=o.children("div.portfolio__item.current");d.find(".portfolio__data").fadeOut(0),n.eq(s-1).attr("class","portfolio__item current").find(".portfolio__data").fadeIn(600);for(var c=s-1,f=0;f<=a.length;f++,c++)c!==a.length?n.eq(c).appendTo(o):c=-1;n.eq(s-1).prependTo(o),n.css("z-index",0).eq(i.data("slide")-1).css("z-index",1).fadeIn(1e3).next().css("z-index",1),n.next().length<=0&&n.first().css("z-index",1),d.removeClass("current"),e=window.setTimeout(function(){i.parent().removeClass("clicked")},1e4)}}),setInterval(function(){if(!l.hasClass("clicked")){t("#portfolio-items").addClass("looping");var e=o.children("div.portfolio__item.current"),i=e.next();i.length<=0&&(i=o.children("div.portfolio__item:first"),i.css("z-index",1)),e.css("z-index",0),i.css("z-index",1),i.fadeIn(600).addClass("current").find("div.portfolio__data").fadeIn(600),e.find("div.portfolio__data").fadeOut(600,function(){e.removeClass("current").show(0),t("#portfolio-items").removeClass("looping")}),l.children("li").eq(e.data("slide")-1).removeClass("current"),l.children("li").eq(i.data("slide")-1).addClass("current")}},8e3)};r()};l();var r=function(){var o=data[data.length-1],e=o.title,i=o.body,n=o.images,a=t("div#latest");a.find("h3.project-title").html(e),a.find("p.project-body").html(i);for(var l=0;l<n.length;l++)a.find("div.project-images").append('<img src="'+n[l]+'" alt="'+e+'">');n.length>1&&a.find("div.project-images").prepend('<div class="arrows"><i class="fa fa-chevron-left"></i><i class="fa fa-chevron-right"></i></div>')};r();var s=app.templates.portfolio;$allItems=t("div.project__contents"),allData=data,$allItems.append(s(allData))},p={init:function(){t("#portfolio a[data-index]").on("click",this.ajax),console.log("clicked")},ajax:function(o){o.preventDefault(),t.ajax({url:"project",type:"POST",dataType:"json",data:{item:function(){return t(this).data("index")}}}).done(function(){console.log("success"),window.location("http://localhost:3000/project.html")}).fail(function(){console.log("error")}).always(function(){console.log("complete")})}};t(document).ready(function(){t("html").addClass("js"),t("div.navigation__logo").on("click",function(){t("body").animate({scrollTop:0},800)}),t("div.navigation__title").hide().fadeIn(1250).on("click",function(){t("body").animate({scrollTop:t("#about").offset().top},800)}),t(".hero__artwork").children("img").animate({opacity:1},1250).parent().on("click",function(){t("body").animate({scrollTop:t("#about").offset().top},800)}),o(),e(),i(),n(),a(),r(),s(),l.init(),c(),f(),p.init(),t("img").on("dragstart",function(t){t.preventDefault()}),d(".global")})}(jQuery);